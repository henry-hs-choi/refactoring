# 테스트 구축하기

## 자가 테스트코드의 가치

- 모든 테스트를 완전히 자동화하고 그 결과까지 스스로 검사하게 만들자.
- 프로덕션 코드와 테스트 코드를 함께 코드 베이스에 담는다.
  - 컴파일 시마다 테스트도 함께 돌린다. -> 디버깅 시간이 크게 줄어든다!
    - 테스트가 실패한 경우, 테스트 간격을 바탕으로 버그가 발생한 지점을 추론할 수 있다.
    - 테스트를 자주 수행하는 습관도 버그를 찾는 강력한 도구가 된다.
- 테스트 스위트는 강력한 버그 검출 도구로, 버그를 찾는 데 걸리는 시간을 대폭 줄여준다.
- 테스트를 작성하기 가장 좋은 시점은 프로그래밍을 시작하기 전이다.
  - 기능을 추가해야할 때 테스트부터 작성한다.
  - 테스트를 작성하다 보면, 원하는 기능을 추가하기 위해 무엇이 필요한지 고민하게 된다.
  - 구현보다 인터페이스에 집중하게 된다는 장점도 있다.
  - 테스트를 모두 통과한 시점이 바로 코드를 완성한 시점이다.

### 테스트 주도 개발

```
1. 테스트를 작성한다.
2. 테스트를 통과하게끔 코드를 작성한다.
3. 결과 코드를 최대한 깔끔하게 리팩터링한다.
```

- 위 과정을 짧은 주기로 반복한다.
- 테스트-코딩-리팩토링 과정을 한 시간에도 여러 차례 진행하기 때문에, 코드를 대단히 생산적이면서도 차분하게 작성할 수 있다.

### 리팩터링과 테스트

- 리팩터링에는 테스트가 필요하다.
- 리팩터링하고 싶다면 테스트를 반드시 작성해야한다.
